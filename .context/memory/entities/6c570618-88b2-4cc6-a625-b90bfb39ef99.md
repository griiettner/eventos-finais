---
id: "6c570618-88b2-4cc6-a625-b90bfb39ef99"
title: "Eventos Finais - Architecture & Tech Stack"
type: "entity"
tags: ["eventos-finais","firebase","kinde","docker","react","architecture","typescript"]
created: "2026-01-06T03:22:18.565Z"
updated: "2026-01-06T03:36:37.149Z"
related: ["eventos-finais","architecture","tech-stack","kinde","firestore"]
importance: 0.9
---

# Eventos Finais - Architecture & Tech Stack

# Eventos Finais - Architecture & Tech Stack

## Project Overview
Eventos Finais is a Progressive Web Application (PWA) for interactive Bible study focused on end-times events. Built with modern web technologies, it serves Portuguese-speaking users with 20 chapters of study content, audio playback, and progress tracking.

## Current Technology Stack

### Frontend Technologies
- **React 19** with TypeScript for component-based UI
- **Vite** (Rolldown) for fast development and optimized builds
- **React Router v6** for client-side routing with protected routes
- **Framer Motion** for smooth animations and transitions
- **TailwindCSS** for utility-first styling with glassmorphism design
- **Lucide React** for consistent iconography
- **Vite PWA Plugin** for offline capabilities and app installation

### Authentication & Security
- **Kinde OAuth** for secure user authentication and authorization
- **JWT tokens** for API authentication
- **Role-based access control** with admin permissions
- **No Firebase Auth** - completely migrated to Kinde

### Database & Backend
- **Firestore** as the primary database (cloud-based NoSQL)
- **Firebase Admin SDK** in backend for secure database access
- **Node.js Express server** as API middleware
- **JWT validation** using Kinde JWKS endpoint
- **No local database** - removed SQLite completely

### Development & Deployment
- **Docker Compose** for containerized development environment
- **Multi-stage Docker builds** for optimized production images
- **Hot reload** in development containers
- **Environment-based configuration** with .env files

## Architecture Patterns

### Authentication Flow
1. User authenticates via Kinde OAuth
2. Frontend receives JWT token
3. All API calls include Bearer token
4. Backend validates JWT and checks roles
5. Backend accesses Firestore with Admin SDK

### Data Access Pattern
- **Frontend**: Never directly accesses database
- **Backend API**: Only service with database access
- **Security**: Admin-only endpoints protected by middleware
- **Consistency**: Single source of truth for data operations

### Component Architecture
- **Provider Pattern**: AuthContext wraps entire app
- **Protected Routes**: AdminRoute component for role-based access
- **API Services**: Centralized API client with error handling
- **Type Safety**: Full TypeScript coverage

## Key Features

### User Experience
- **Responsive Design**: Works on all device sizes
- **Offline Capable**: PWA with offline functionality
- **Progress Tracking**: User progress saved to Firestore
- **Audio Integration**: Audio playback for study content
- **Smooth Animations**: Framer Motion throughout

### Admin Features
- **Content Management**: Create/edit chapters and pages
- **Role-Based Access**: Admin-only content management
- **Progress Monitoring**: View user progress and engagement
- **Secure API**: JWT-protected admin endpoints

### Development Features
- **Hot Reload**: Instant development feedback
- **Type Safety**: Full TypeScript coverage
- **Error Handling**: Comprehensive error boundaries
- **Logging**: Request logging in backend
- **Docker Support**: Consistent development environment

## Security Considerations

### Authentication Security
- **OAuth 2.0**: Industry-standard authentication
- **JWT Validation**: Cryptographic token verification
- **Role Enforcement**: Server-side permission checks
- **No Credentials**: No API keys in frontend code

### Data Security
- **Admin SDK**: Secure backend database access
- **No Direct Access**: Frontend cannot access database directly
- **Role-Based**: Admin-only operations protected
- **Environment Variables**: Sensitive data in environment

## Performance Optimizations

### Frontend Performance
- **Code Splitting**: Lazy loading of components
- **Optimized Builds**: Vite production optimizations
- **Image Optimization**: Efficient asset handling
- **Caching**: Service worker for offline access

### Backend Performance
- **Efficient Queries**: Indexed Firestore queries
- **Connection Pooling**: Optimized database connections
- **Error Handling**: Fast failure with proper responses
- **Logging**: Minimal performance impact

## Development Workflow

### Local Development
```bash
# Start development environment
npm run docker:dev:build

# View logs
npm run docker:dev:logs

# Stop containers
npm run docker:dev:down
```

### Environment Configuration
- **Development**: Hot reload with debugging
- **Production**: Optimized builds with security
- **Environment Variables**: Consistent across environments
- **Docker Volumes**: Efficient file watching

## Migration History

### Previous Architecture (Removed)
- **Firebase Authentication** - Replaced with Kinde
- **Direct Firestore Access** - Replaced with API
- **SQLite Local Database** - Completely removed
- **Firebase Emulators** - Replaced with Docker

### Current Architecture
- **Kinde Authentication** - OAuth-based auth
- **Backend API** - Secure data access layer
- **Firestore Only** - Cloud database only
- **Docker Development** - Containerized environment

## Future Considerations

### Scalability
- **Horizontal Scaling**: Backend can be scaled independently
- **CDN Integration**: Static asset optimization
- **Database Optimization**: Query performance tuning
- **Caching Strategy**: Response caching implementation

### Feature Enhancements
- **Real-time Updates**: Firestore real-time listeners
- **Advanced Analytics**: User engagement tracking
- **Content Management**: Enhanced admin features
- **Mobile App**: Native mobile application

## Best Practices Implemented

### Code Quality
- **TypeScript**: Full type safety
- **ESLint**: Consistent code style
- **Error Boundaries**: Graceful error handling
- **Testing**: Comprehensive test coverage

### Security
- **Principle of Least Privilege**: Minimal permissions
- **Zero Trust**: No implicit trust
- **Environment Security**: No hardcoded secrets
- **Input Validation**: Proper data validation

### Performance
- **Lazy Loading**: Load only what's needed
- **Optimized Builds**: Production optimizations
- **Efficient Queries**: Database performance
- **Caching**: Appropriate caching strategies